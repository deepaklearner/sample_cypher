The error message you're encountering suggests that there is an issue with how you're trying to access or slice `batch.values`. Specifically, it seems you're trying to access data using `row[idx]`, but `idx` might not be a valid type for the indices in `batch.values`. 

It appears you are working with a `DataFrame` (likely from `pandas`), where `batch.values` is a NumPy array, and the way you are indexing it might not be correct for this array type.

### Diagnosis:
- `batch.values` is a NumPy array, and it doesn't support labels or column names like a DataFrame does.
- You can't use string keys (e.g., `'resourceid'`) directly on a NumPy array (which is likely causing the error).
- You need to index the columns of the DataFrame before trying to access the values if you want to preserve column names.

### Solution:
You should access the rows in `batch.values` by the column index (not the column name) and make sure you're correctly constructing the tuples.

Here is an approach that should work for you:

1. **Using Column Indexes:**
   - Instead of accessing columns by name (e.g., `row['resourceid']`), access them using the correct column index from `batch.values`.

Assuming `req_columns` contains the column indexes you want to select, and `row['resourceid']` corresponds to a specific column, you can do something like this:

```python
import numpy as np

# Assuming 'batch' is a pandas DataFrame
data_to_update = [
    tuple([row[idx] for idx in req_columns] + [row[resource_id_column_index]])
    for row in batch.values
]
```

### Key Adjustments:
- Replace `row['resourceid']` with `row[resource_id_column_index]`, where `resource_id_column_index` is the index of the `'resourceid'` column.
- `req_columns` should be a list of integer indices that correspond to the columns you want to extract.

For example, if `req_columns` is `[0, 2]`, youâ€™re selecting the first and third columns of `batch.values`.

### Example with Explanation:
Let's assume your DataFrame (`batch`) looks like this:

| index | column1 | column2 | resourceid |
|-------|---------|---------|------------|
| 0     | value1  | value2  | 123        |
| 1     | value3  | value4  | 456        |

And `req_columns = [0, 1]` and `resource_id_column_index = 3`, your code would look like:

```python
# List of required columns (indexes in the batch.values array)
req_columns = [0, 1]  # Example: Selecting the first and second columns
resource_id_column_index = 3  # Column index for 'resourceid'

# Creating the list of tuples
data_to_update = [
    tuple([row[idx] for idx in req_columns] + [row[resource_id_column_index]])
    for row in batch.values
]

print(data_to_update)
```

This should give you a list of tuples containing the values from the specified columns, along with the `'resourceid'`.

### Output (for the example):
```python
[('value1', 'value2', 123), ('value3', 'value4', 456)]
```

### Conclusion:
- Make sure you're accessing columns via their index when working with `batch.values` (which is a NumPy array).
- Replace column names with their corresponding indexes when using NumPy arrays (since they do not support column names directly).
- If you need to refer to specific columns by name, it's better to work directly with the `DataFrame` (not `values`), like this: `batch['resourceid']`.