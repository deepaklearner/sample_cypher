I want to create grpah conditionally in below cypher query. If managerid property is numeric then run this cypher "MERGE (m:User {employeeNumber: n.managerid})" or if managerid is non-numeric then run this cypher "MATCH (m:User {aetnaresourceid: n.managerid}) 
before running "MERGE (n)-[:REPORTS_TO]->(m)"

""" 
MATCH (n:User)
WITH n
MATCH (m:User {employeeNumber: n.managerid})
MERGE (n)-[:REPORTS_TO]->(m)
"""

MATCH (n:User)
WHERE n.managerid IS NOT NULL
OPTIONAL MATCH (n)-[r:REPORTS_TO]->(m:User)
WHERE n.managerid <> m.employeeNumber
DELETE r
WITH n
MATCH (m:User {employeeNumber: n.managerid})
MERGE (n)-[:REPORTS_TO]->(m)


Solution1:
MATCH (n:User)
WITH n,
     CASE 
         WHEN n.managerid =~ '\\d+' THEN 'numeric'
         ELSE 'non-numeric'
     END AS managerid_type
// Handle numeric managerid
MATCH (m:User {employeeNumber: n.managerid})
WHERE managerid_type = 'numeric'
MERGE (n)-[:REPORTS_TO]->(m)

// Handle non-numeric managerid
WITH n, managerid_type
MATCH (m:User {aetnaresourceid: n.managerid})
WHERE managerid_type = 'non-numeric'
MERGE (n)-[:REPORTS_TO]->(m)




